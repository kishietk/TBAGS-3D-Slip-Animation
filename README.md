Blenderでcsvを読み取ってモデル生成、アニメ―ション付与まで行うpyスクリプトを作成しました。この後、コード送るので待機して。

root/data/直下
animation.csvはもっと巨大なデータですので、「...」で行を大幅に削っています。ここまでで、使用するデータは共有しました。

やりたいことがあります。

１個目
load周りをすっきりさせ、selfの内容から、どの向きの柱なのか？梁なのか？などのデータや、今はノードの名前で判断していますが、他にも柱IDなどのパラメーターがいくつかあっていいと思っている。
それらをcoresフォルダにedge.pyみたいにして、他にもnode.pyやpanel.pyのようにして、オブジェクトとしていきたい。そっちの方が、blenderに持っていく際の手続きがシンプルだと思う。
この時難しいのが、元データをいくつかまたがないとこれらオブジェクト化が難しいところ。また、configファイルで、今回必要になってくるノードを指定していて、そのノードに関わるエッジ、そのエッジにかかわるパネルを生成していくロジックも必要になる。すべてのノードをオブジェクト化してしまうと、読み込み時間がかかるので、この先にフィルタリングするフローは必要。


２個目
最初の要望がクリアできたら、次はblenderのボーンをつかった柱の表現を行いたい。
いまだと、ノードで分割されていて、柱がポキポキ折れるようなアニメ―ションになっているから、このあたりをリアルな曲がり方にしたいと思っている。
柱を1本化し、ノードの変位アニメーションをボーンに利用してアーマチュア連動アニメーション化
└ 構造部材が物理的に“折れずに連続して変形”するよう、ボーンに追従


2つのルールを設定します。

➀このチャットでは、「全文」といった場合、pyスクリプトを省略せず全部生成してほしいです。生成時コピペでOKと言ってください。たくさんファイルを生成する場合、1つのファイルを生成後、「次へ」で次のファイルに進むようにしてOKです。

➁生データは、さっき共有した３つです。そのほかにサンプルcsvのようなものを新しく使うことは絶対にやめてください。

先に、self.strについて、把握しておく必要があります。
EBEAM3Dの中にedgeのデータが入っていますが、その中に#数字があると思います。
その#ごとに、cores/edge.pyの属性が決まってくるイメージです。
例えば、向きの違いが分かったら、柱なのか、梁なのかが決まってきますね。
そのフィルタも意識する必要があります
EBEAM3D
#---*----1----*----2----*----3----*----4----*----5----*----6----*----7-|
#      EID       PID        NN        G1        G2        C1        C2
#                 Vx        Vy        Vz
#              PMASS         F
#     DEID     DPID                  DG1       DG2
#---*----1----*----2----*----3----*----4----*----5----*----6----*----7-|
#42 Frame beam (x, and y)
     132013525000300                 201       205
              -1.00      0.00      0.00
     132023525300300                 202       206
              -1.00      0.00      0.00
     132033525300300                 203       207
              -1.00      0.00      0.00
     132043525300000                 204       208
              -1.00      0.00      0.00
     132053525000450                 201       202
               0.00      1.00      0.00
     132063525000450                 202       203
               0.00      1.00      0.00
     132073525000450                 203       204
               0.00      1.00      0.00
     132083525450000                 205       206


さっきの注釈は、このような、「#42 Frame beam (x, and y)」や「#43 Top of upper level sandbag connecting beam (Y direction)」の事を示していました。
EBEAM3Dには、#42～#55 Connecting bottom of lower level sandbag to ground without foundation
まで存在しますね。